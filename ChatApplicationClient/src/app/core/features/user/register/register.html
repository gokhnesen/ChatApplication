<form (ngSubmit)="register()" class="auth-form" novalidate>
  <h2>Kayıt Ol</h2>
  
  <div class="photo-upload-container" *ngIf="photoPreviewUrl || !selectedPhoto">
    <div class="photo-preview" *ngIf="photoPreviewUrl">
      <img [src]="photoPreviewUrl" alt="Profile Preview" />
    </div>
    <div class="photo-placeholder" *ngIf="!photoPreviewUrl">
      <span>Profil Fotoğrafı</span>
    </div>
    <label for="photo-upload" class="photo-upload-button">Fotoğraf Seç</label>
    <input 
      type="file" 
      id="photo-upload" 
      accept="image/*" 
      (change)="onPhotoSelected($event)" 
      style="display:none;" />
    <div class="field-error" *ngIf="photoError && (attemptedRegister)">{{ photoError }}</div>
  </div>
  
  <div class="form-group">
    <input [(ngModel)]="name" name="name" type="text" placeholder="Ad" required (blur)="nameTouched = true" />
    <div class="field-error" *ngIf="nameError && (nameTouched || attemptedRegister)">{{ nameError }}</div>
  </div>
  
  <div class="form-group">
    <input [(ngModel)]="lastName" name="lastName" type="text" placeholder="Soyad" required (blur)="lastNameTouched = true" />
    <div class="field-error" *ngIf="lastNameError && (lastNameTouched || attemptedRegister)">{{ lastNameError }}</div>
  </div>

  <div class="form-group">
    <input [(ngModel)]="userName" name="userName" type="text" placeholder="Kullanıcı Adı" required />
  </div>

  <div class="form-group">
    <input [(ngModel)]="email" name="email" type="email" placeholder="Email" required (blur)="emailTouched = true" />
    <div class="field-error" *ngIf="emailError && (emailTouched || attemptedRegister)">{{ emailError }}</div>
  </div>
  
  <div class="form-group">
    <input [(ngModel)]="password" name="password" type="password" placeholder="Şifre" required (blur)="passwordTouched = true" />
    <div class="field-error" *ngIf="passwordError && (passwordTouched || attemptedRegister)">{{ passwordError }}</div>
  </div>
  
  <button type="submit" [disabled]="isUploading || !isFormValid()">
    <span *ngIf="!isUploading">Kayıt Ol</span>
    <span *ngIf="isUploading">Kaydediliyor...</span>
  </button>
  
  <div *ngIf="successMessage" class="success">{{ successMessage }}</div>
  <div *ngIf="error" class="error">{{ error }}</div>
</form>
